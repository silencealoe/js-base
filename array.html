<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

  <script>
    console.log(typeof null) //object
    console.log(typeof [1, 2, 3]) //object 
    console.log(typeof Array) //function
    console.log(typeof undefined) //undefined


    var array = [0, 1, 2, 3, 4];
    console.log(Object.keys(array)) //显示数组中的所有键名，数值自动转换为字符串
    array.length = 0; //设置数组的length删除数组
    console.log(array);

    console.log(Array.isArray(array)) //判断是否是数组


    //数组的方法
    var arr = [1, 2, 3];
    console.log(arr.valueOf()) //返回数组本身  [1,2,3] 
    console.log(arr)
    console.log(...arr)
    console.log(arr.toString()) //返回数组的字符串 1,2,3,原数组不变
    console.log(arr)
    console.log(arr.push(4)) //返回push的数字,改变原数组  4
    console.log(arr) //push后的数组  [1,2,3,4]
    console.log(arr.pop()) //返回pop数组最后一个元素，改变原数组 4
    console.log(arr) //返回pop后的数组 [1,2,3]
    console.log(arr.shift()) //删除数组的第一个元素，返回删除的第一个元素，改变原数组  1
    console.log(arr) //[2,3]
    console.log(arr.unshift(1, 4, 7, 8, 9)) //7   在数组的第一个位置添加元素，返回添加后数组的长度，改变原数组
    console.log(arr) //[1,4,7,8,9,2,3]
    console.log(arr.join()); //1478923   以指定参数为分隔符，将所有数组成员连接为一个字符串，没有参数默认以逗号分隔,原数组不改变
    console.log(arr);


    console.log(Array.prototype.join.call('hello', '-')) //字符串 h-e-l-l-o
    console.log(Array.prototype.join.call({
      0: 'a',
      1: 'b',
      length: 2
    }, '-')) //类似数组的对象

    console.log('------------------')
    console.log(arr.concat(11, 22)) //返回拼接后的数组，不改变原数组  [1, 4, 7, 8, 9, 2, 3, 11, 22]
    console.log(arr.concat([33, 44])) //返回拼接后的数组，不改变原数组  [1, 4, 7, 8, 9, 2, 3, 33, 44]
    console.log(arr.concat('xixi')) //返回拼接后的数组，不改变原数组  [1, 4, 7, 8, 9, 2, 3, 'xixi']
    console.log(arr) //[1, 4, 7, 8, 9, 2, 3]


    console.log(arr.reverse()) //颠倒排列数组，改变原数组 [3, 2, 9, 8, 7, 4, 1]
    console.log(arr) // [3, 2, 9, 8, 7, 4, 1]


    console.log('---------------')

    console.log(arr.slice()) //拷贝一个数组[3, 2, 9, 8, 7, 4, 1]
    console.log(arr.slice(1, 3)) //[2,9]   提取数组的一部分，返回提取的数组，不改变原数组
    console.log(arr.slice(-1)) // 倒数截取一个数
    console.log(arr)

    console.log(arr.slice(-2)) // 倒数截取两个个数
    console.log(arr) //[3, 2, 9, 8, 7, 4, 1]
    //如果第一个参数大于等于数组长度，或者第二个参数小于第一个参数，则返回空数组。

    console.log('---------------')

    console.log(arr.splice(0, 2)) //删除原数组的一部分，返回删除的元素，改变原数组  [3, 2]
    console.log(arr) // [9, 8, 7, 4, 1]
    console.log(arr.splice(2, 2, 12, 14, 16)) // [7, 4]   在删除的位置插入12,14,16
    console.log(arr) //[9, 8, 12, 14, 16, 1]
    console.log(arr.splice(-2, 2)) //[16, 1]
    console.log(arr) //[9, 8, 12, 14]
    console.log(arr.splice(1, 0, 4, 7, 6))
    console.log(arr) //[9, 4, 7, 6, 8, 12, 14]

    console.log('---------------')
    // console.log(arr.sort())  // [12, 14, 4, 6, 7, 8, 9]按照字典顺序排序
    console.log(arr) // 改变原数组，排序后的数组

    arr.sort(function (a, b) {
      // return a-b   //从小到大排序  返回值大于0，第一个数放在第二个数后面，其他情况都是第一个元素放在第二个元素前面
      return b - a //从大到小排序

    })
    console.log(arr)

    //根据对象中的某个属性值排序

    var gamescore = [{
      name: 'zhangsan',
      score: 100
    }, {
      name: 'lisi',
      score: 130
    }, {
      name: 'wangwu',
      score: 60
    }, {
      name: 'zhaoliu',
      score: 20
    }]
    gamescore.sort(function (p1, p2) {
      return p1.score - p2.score;

    })
    console.log(gamescore)
    //{name: "zhaoliu", score: 20}
    // 1: {name: "wangwu", score: 60}
    // 2: {name: "zhangsan", score: 100}
    // 3: {name: "lisi", score: 130}


    console.log('---------------')
    var nums = [1, 2, 3, 4];
    var newnums = nums.map(function (item, index, arr) { //item当前成员，index成员索引，arr原数组
      item++;
      // console.log(item);   // 2 3 4 5 
      return item;
    })
    /* 将数组中所有成员依次传入参数参数，把每一次的执行结果组成一个新数组返回*/
    console.log(nums) //[1,2,3,4]  不改变原数组
    console.log(newnums) //[2,3,4,5]
    //map方法不会跳过undefined和null，但是会跳过空位。
    //map方法还可以接受第二个参数，用来绑定回调函数内部的this变量(不能使用箭头函数)
    var arrr = ['hello', 'world', 'hi'];
    [0, 1, 2].map(function (e) {
      console.log(this[e])
    }, arrr)

    var arra = ['a', 'b', 'c'];

    [0, 1, 2].map(function (e) {
      // return this[e];
      console.log(this[e])
    }, arra)

    //forEach() 对数组成员依次进行执行函数，没有返回值，只是操作数据，无法中断执行，总是将所有成员遍历完，需要中断使用for
    console.log(null + 1) //1
    console.log(Number(null)) //0
    console.log(undefined + 1) //NaN
    //forEach方法不会跳过undefined和null，但会跳过空位
    arr.forEach((item, index, arr) => {
      console.log(item, index, arr)
      if (index > 2) return; //return 无效
    })

    console.log('---------------------')
    var r = arr.filter((item, index) => {
      return item % 2 === 0
    })
    console.log(arr) //filter不改变原数组
    console.log(r) // [14, 12, 8, 6, 4]

    //some(),every()返回一个布尔值，表示判断数组成员是否符合某种条件

    //some方法是只要一个成员的返回值是true，则整个some方法的返回值就是true，否则返回false。
    var b = arr.some((item) => {
      return item > 7
    })
    console.log(b) //true

    //every方法是所有成员的返回值都是true，整个every方法才返回true，否则返回false。
    var bol = arr.every(item => {
      return item > 7
    })
    console.log(bol) //false
    //注意，对于空数组，some方法返回false，every方法返回true

    //reduce()和reduceRight() 依次处理数组的每个成员，最终累计为一个值
    //reduce是从左往右执行。reduceRight是从右往左执行

    var sum = arr.reduce((a, b) => {
      return a + b
    })
    console.log(sum) //60
    var su = arr.reduceRight((a, b) => {
      return a - b
    })
    console.log(su) //-52 


    //indexOf()  lastindexOf()
    arr.push(2, 12, 14)
    console.log('arr--', arr)

    var index = arr.indexOf(12); //从第二个位置开始查找
    console.log(index) //1
    var inde = arr.lastIndexOf(12, -3) //从倒数第三个位置开始查找
    console.log(inde) //8





    //找出数组中字符串长度最长的字符

    //法一  遍历数组
    var stringArr = ['hi', 'i', 'am', 'hahaha', 'hehe'];
    var longest = {
      len: 0,
      in: 0
    };
    stringArr.forEach((item, index) => {
      console.log(item.length);
      if (item.length > longest.len) {
        longest.len = item.length
        longest.in = index
      }
    })
    console.log('len:', longest.len)
    console.log('str:', stringArr[longest.in])

    //法二  sort方法

    stringArr.sort((s1, s2) => {
      return s1.length - s2.length;
    })
    console.log(stringArr)
    var longeststr = stringArr.pop();
    console.log('str:', longeststr) //hahaha

    //法三 reduce()方法

    var strr = stringArr.reduce((pre, cur) => {
      return cur.length > pre.length ? cur : pre
    })
    console.log(strr, strr.length) //hehe


    //数组去重 

    var arrayray = [1, 2, 4, 3, 21, 12, 5, 7, 32, 8, 5, 8, 7, 3, 2, 1, 12, 32];

    //方法一 循环遍历 indexOf()

    function unique1() {
      var unique = [];
      for (var i = 0; i < arrayray.length; i++) {
        if (unique.indexOf(arrayray[i]) === -1) {
          unique.push(arrayray[i])
        }
      }
      return unique;
    }

    var un1 = unique1();
    console.log(un1) // [1, 2, 4, 3, 5, 7, 8]

    //方法二   排序后相邻相同去除
    // function unique2() {
    //   var newsort = arrayray.sort((a, b) => {
    //     return a - b
    //   })
    //   console.log(newsort)
    //   var sortarr = [newsort[0]];
    //   for (var i = 1; i < newsort.length; i++) {
    //     if (newsort[i] !== newsort[i - 1]) {
    //       sortarr.push(newsort[i])
    //     }

    //   }

    //   return sortarr
    // }
    // var un2 = unique2();
    // console.log(un2)

    //方法三  数组下标判断 
    function unique3(){
      var indexarr=[];
      for(var i=0;i<arrayray.length;i++){
        if(arrayray.indexOf(arrayray[i])===i){
          indexarr.push(arrayray[i])
        }
      }
      return indexarr;
    } 

    var un3=unique3()
    console.log(un3)
   //方法四  es6新方法 set()

    var un4=new Set(arrayray);
    console.log([...un4])

    //数组的fill()
    
    let newArray = new Array(10).fill([1,2,3],[1,2])
    console.log(newArray)


    //求两个数组的交集
    let numOne=[2,4,5,6,3,2,9,8]
    let numTwo=[2,5,7,9,0,1,9,5]
    let duplicate=(Array.from(new Set(numOne))).filter(item=>numTwo.includes(item))
    console.log(duplicate)  //2,5,9
    //求两个数组的并集
    let union=[...new Set([...numOne,...numTwo])]
    console.log(union)

    //从数组中删除虚值
    //虚值有：false,null,undefined,'',0,NaN
     let mixedArr=[0,'',null,1,2,3,NaN,undefined,false]
     let trueArr = mixedArr.filter(Boolean)
    //  let trueArr = mixedArr.filter(Number)
     console.log(trueArr)
    
    


  </script>
</body>

</html>

